#联调问题记录(2021.4.18~2021.4.21)
##`1.设备信息导出并XML文件上传功能`
***
`整改：`  
1.设备类型（Types）需要16进制标志H， 例如12应写为12H。  
2.xml文件命名规则 P[设备类型设备子类型]_*.xml, 若设备无子类型则默认写01 例如：P[06H01H]_2300.xml。  
3.type属性改为Types， 首字母大写。  
4.subtype目前必须得有，取值范围（1~255）， 默认写01H。  
~~5.浮点类型数据发送时发送原始浮点数据。 例如123.456发送时应为123.456（存疑）。~~  
6.xml文给编码为gb2312。  
7.参数param需要用ps标签包裹。    
```xml
<ps>
  <param no ="10"/>
</ps>
```  
8.浮点参数类型改为str。  
9.生成的参数（字符串类型）需要长度）。  
10.使用range标签是必须有down和up属性设置。  
11.param参数comb类型需要加H,及参数需要用16进制表示。且只有byte类型有comb。 汉字值需要映射发送 例如OFF转换为1H，ON转换为0H   
   ```xml
   <param>
  <type name ="byte">
    <showModel>
      <option index = "0H"/>
      <option index = "1H"/>
    </showModel>
  </type>
</param>
   ```  
13.UP, DOWN 生成数据是反的 up=0， down=10， 正确应该是up=10， down=0。  
14.showMode 类型为comb时不需要range属性。  
15.参数应该有group信息， 目前未生成。  
16.error信息未提供， 有些设备具有error信息。

##`2.站控设备八接口`
***
* `2.1.设备状态上报功能`  
  `流程：`  
  1.54所使用socket工具发送我方生成上报数据
  ```text
  0001000a0000000000000000000a01060800
  ```
  `整改：`  
* `2.2.告警事件上报功能`  
  `流程：`  
  1.54所使用socket工具发送我方生成告警事件上报数据
    ```text
  000200500000000000000000000001323032312d30342d32302031313a34383a32390a4e26080b000000012cc9e8b1b8a3bac7d0bbbbb5a5d4aab2cecafda3bab1e4c6b5c6f7d7dcd7b4ccacb1a8beafa3ba6572726f7221
  ```
  `整改：`  
* `2.2.参数查询命令功能`  
  `流程：`  
  0003004400000000 00000000 03   0a     01     4e2c      13         39        24 25 26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35 36 37 38 39 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 
                           标识 站号  设备数量 设备型号 设备编号 设备参数数量 参数编号...
  `整改：`  
* `2.3.参数查询响应功能`  
  `流程：`  
  `整改：`  
* `2.4.参数设置命令功能`  
  `流程：`  
  0005000e0000000000000000050a014e2c1301010101
  `整改：`  
* `2.5.参数设置命令响应功能`  
  `流程：`  
  `整改：`  
* `2.6.参数告警查询命令功能`  
  `流程：`  
  `整改：`  
* `2.7.参数告警查询响应功能`  
  `流程：`  
  `整改：`  